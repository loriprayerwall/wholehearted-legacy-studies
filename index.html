<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>This Little Light of Mine</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
      50% { opacity: 1; transform: scale(1) rotate(180deg); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes dance {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }
    
    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 5px currentColor); }
      50% { filter: drop-shadow(0 0 20px currentColor); }
    }
    
    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }
    
    @keyframes pulse-scale {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes rainbow {
      0% { filter: hue-rotate(0deg); }
      100% { filter: hue-rotate(360deg); }
    }
    
    @keyframes slide-in-left {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slide-in-right {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes fade-in {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
    
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      10% { transform: scale(1.1); }
      20% { transform: scale(1); }
      30% { transform: scale(1.1); }
      40% { transform: scale(1); }
    }
    
    @keyframes card-tilt {
      0%, 100% { transform: perspective(1000px) rotateY(-5deg) rotateX(2deg); }
      50% { transform: perspective(1000px) rotateY(5deg) rotateX(-2deg); }
    }
    
    @keyframes card-float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-30px); }
    }
    
    .sparkle {
      position: absolute;
      width: 20px;
      height: 20px;
      animation: sparkle 1.5s ease-in-out infinite;
    }
    
    .character-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .character-card:hover {
      transform: scale(1.05);
    }
    
    .character-card.active {
      animation: float 2s ease-in-out infinite;
    }
    
    .page-container {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto">
  <div id="app" class="w-full h-full"></div>
  <script>
    const config = {
      background_color: "#FFF5E6",
      card_background: "#FFFFFF",
      primary_text: "#5D4037",
      accent_color: "#C41E3A",
      secondary_accent: "#1B5E20",
      font_family: "Georgia",
      font_size: 16,
      story_title: "This Little Light of Mine",
      papa_text: "Papa shares kindness from his porch",
      momo_text: "Momo shares sweet cookies",
      rylee_text: "Rylee spreads laughter of love",
      jackson_text: "Jackson dances with joy",
      alice_text: "Alice sings praise of joy"
    };

    let currentPage = 0;
    const totalPages = 6;

    const characters = [
      {
        name: "Papa",
        image: "https://www.wholeheartedlegacy.org/s/Papa-7ddy.png",
        scene: "üè°",
        configKey: "papa_text",
        story: "Papa sits on his porch with a warm smile, greeting everyone who passes by. Just like Jesus welcomed all people with open arms, Papa shows God's kindness to his neighbors.",
        verse: "\"Be kind to one another\" - Ephesians 4:32"
      },
      {
        name: "Momo",
        image: "https://www.wholeheartedlegacy.org/s/Momo-6lhe.png",
        scene: "üç™",
        configKey: "momo_text",
        story: "Momo bakes delicious cookies and shares them with everyone! Jesus fed the multitudes and taught us to share what we have. Momo's sweetness spreads God's love one cookie at a time.",
        verse: "\"Give, and it will be given to you\" - Luke 6:38"
      },
      {
        name: "Jackson",
        image: "https://www.wholeheartedlegacy.org/s/Rylee-33hb.png",
        scene: "üíÉ",
        configKey: "jackson_text",
        story: "Jackson dances with pure joy in his heart! King David danced before the Lord with all his might. When we celebrate God's goodness, our joy becomes a light that others can see.",
        verse: "\"The joy of the Lord is your strength\" - Nehemiah 8:10"
      },
      {
        name: "Rylee",
        image: "https://www.wholeheartedlegacy.org/s/Jackson-rj4m.png",
        scene: "üòÑ",
        configKey: "rylee_text",
        story: "Rylee's laughter fills the air with happiness! Jesus said we should have the heart of a child. His joyful spirit reminds everyone that God's love brings us laughter and delight.",
        verse: "\"A joyful heart is good medicine\" - Proverbs 17:22"
      },
      {
        name: "Alice",
        image: "https://www.wholeheartedlegacy.org/s/Alice-a9hw.png",
        scene: "üéµ",
        configKey: "alice_text",
        story: "Alice sings beautiful songs of praise! The Bible tells us to make a joyful noise unto the Lord. Her voice lifts up worship and reminds us to praise God in all things.",
        verse: "\"Sing to the Lord a new song\" - Psalm 96:1"
      }
    ];

    function createSparkles() {
      const sparkles = [];
      const emojis = ['‚ú®', '‚≠ê', 'üí´', 'üåü', 'üíñ', 'üéµ', 'üïäÔ∏è'];
      for (let i = 0; i < 30; i++) {
        const emoji = emojis[Math.floor(Math.random() * emojis.length)];
        sparkles.push(`
          <div class="sparkle" style="
            left: ${Math.random() * 100}%;
            top: ${Math.random() * 100}%;
            animation: sparkle ${1 + Math.random() * 2}s ease-in-out infinite;
            animation-delay: ${Math.random() * 2}s;
            color: ${Math.random() > 0.5 ? config.accent_color : config.secondary_accent};
            font-size: ${15 + Math.random() * 15}px;
          ">${emoji}</div>
        `);
      }
      return sparkles.join('');
    }

    function renderPage() {
      const baseFont = config.font_family;
      const baseFontSize = config.font_size;
      const backgroundColor = config.background_color;
      const cardBackground = config.card_background;
      const primaryText = config.primary_text;
      const accentColor = config.accent_color;
      const secondaryAccent = config.secondary_accent;
      
      const title = config.story_title;
      
      const app = document.getElementById('app');
      
      if (currentPage === 0) {
        app.innerHTML = `
          <div class="page-container w-full" style="background: linear-gradient(135deg, ${backgroundColor} 0%, ${accentColor}40 100%); font-family: '${baseFont}', serif; color: ${primaryText};">
            <div class="flex-1 flex items-center justify-center p-8 relative overflow-hidden">
              ${createSparkles()}
              <div class="text-center z-10 max-w-2xl">
                <div class="flex justify-center items-center gap-4 mb-8">
                  <div class="text-7xl" style="animation: wiggle 2s ease-in-out infinite;">üåü</div>
                  <div class="text-9xl animate-pulse" style="animation: glow 2s ease-in-out infinite, heartbeat 2s ease-in-out infinite;">üïØÔ∏è</div>
                  <div class="text-7xl" style="animation: wiggle 2s ease-in-out infinite; animation-delay: 1s;">üåü</div>
                </div>
                <h1 class="font-bold mb-6" style="font-size: ${baseFontSize * 3}px; color: ${primaryText}; animation: fade-in 1s ease-out;">${title}</h1>
                <p class="mb-8" style="font-size: ${baseFontSize * 1.25}px; color: ${primaryText}; animation: fade-in 1.5s ease-out;">
                  Let your light shine bright! ‚ú®
                </p>
                <div class="flex justify-center gap-3 mb-8 text-5xl">
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0s;">‚ú®</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.2s;">üíñ</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.4s;">üéµ</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.6s;">üïäÔ∏è</span>
                </div>
                <button id="startBtn" class="px-8 py-4 rounded-full font-bold transform transition hover:scale-110" style="background-color: ${accentColor}; color: #FFFFFF; font-size: ${baseFontSize * 1.125}px; box-shadow: 0 5px 20px rgba(0,0,0,0.2);">
                  Begin the Journey üåü
                </button>
              </div>
            </div>
          </div>
        `;
        
        document.getElementById('startBtn').onclick = () => {
          currentPage = 1;
          renderPage();
        };
      } else if (currentPage >= 1 && currentPage <= 5) {
        const charIndex = currentPage - 1;
        const character = characters[charIndex];
        const characterText = config[character.configKey];
        
        app.innerHTML = `
          <div class="page-container w-full" style="background-color: ${backgroundColor}; font-family: '${baseFont}', serif; color: ${primaryText};">
            <div class="flex-1 flex flex-col items-center justify-center p-8 relative overflow-hidden">
              ${createSparkles()}
              <div class="text-center z-10 max-w-3xl">
                <div id="characterImage" class="mb-6 character-card active inline-block" style="animation: card-float 3s ease-in-out infinite, card-tilt 4s ease-in-out infinite;">
                  <img src="${character.image}" alt="${character.name}" style="width: 400px; height: 500px; border-radius: 30px; object-fit: cover; border: 10px solid ${accentColor}; box-shadow: 0 20px 60px rgba(0,0,0,0.3), 0 0 20px ${accentColor}40;" onerror="this.style.display='none'; this.alt='Image failed to load';">
                </div>
                <div class="flex justify-center gap-3 mb-6 text-6xl">
                  <span style="animation: wiggle 2s ease-in-out infinite;">${character.scene}</span>
                  <span style="animation: spin-slow 4s linear infinite;">‚ú®</span>
                  <span style="animation: wiggle 2s ease-in-out infinite; animation-delay: 0.5s;">${character.scene}</span>
                </div>
                <h2 class="font-bold mb-4" style="font-size: ${baseFontSize * 2.5}px; color: ${accentColor}; animation: fade-in 1s ease-out;">${character.name}</h2>
                <p class="mb-6 rounded-3xl p-6" style="background-color: ${cardBackground}; font-size: ${baseFontSize * 1.25}px; color: ${primaryText}; box-shadow: 0 10px 30px rgba(0,0,0,0.1); line-height: 1.8; animation: fade-in 1.2s ease-out;">
                  ${character.story}
                </p>
                <p class="mb-4 rounded-3xl p-6" style="background-color: ${cardBackground}; font-size: ${baseFontSize * 1.375}px; color: ${primaryText}; box-shadow: 0 10px 30px rgba(0,0,0,0.1); font-weight: bold; animation: fade-in 1.4s ease-out;">
                  ${characterText}
                </p>
                <p class="mb-6 italic" style="font-size: ${baseFontSize * 1.125}px; color: ${accentColor}; animation: fade-in 1.6s ease-out;">
                  ${character.verse}
                </p>
                <div class="flex justify-center gap-4 text-7xl mb-8">
                  <span style="animation: glow 2s ease-in-out infinite, bounce 2s ease-in-out infinite; color: ${accentColor};">‚ú®</span>
                  <span style="animation: glow 2s ease-in-out infinite, heartbeat 2s ease-in-out infinite; animation-delay: 0.3s; color: ${accentColor};">üíñ</span>
                  <span style="animation: glow 2s ease-in-out infinite, bounce 2s ease-in-out infinite; animation-delay: 0.6s; color: ${accentColor};">‚ú®</span>
                </div>
              </div>
            </div>
            <div class="p-6 flex justify-between items-center" style="background-color: ${cardBackground};">
              <button id="prevBtn" class="px-6 py-3 rounded-full font-bold transition hover:scale-110" style="background-color: ${secondaryAccent}; color: #FFFFFF; font-size: ${baseFontSize}px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); animation: slide-in-left 0.8s ease-out;">
                ‚Üê Previous
              </button>
              <div style="color: ${primaryText}; font-size: ${baseFontSize}px; font-weight: bold; animation: fade-in 1s ease-out;">
                Page ${currentPage} of ${totalPages - 1}
              </div>
              <button id="nextBtn" class="px-6 py-3 rounded-full font-bold transition hover:scale-110" style="background-color: ${accentColor}; color: #FFFFFF; font-size: ${baseFontSize}px; box-shadow: 0 3px 10px rgba(0,0,0,0.15); animation: slide-in-right 0.8s ease-out;">
                Next ‚Üí
              </button>
            </div>
          </div>
        `;
        
        document.getElementById('prevBtn').onclick = () => {
          currentPage--;
          renderPage();
        };
        
        document.getElementById('nextBtn').onclick = () => {
          currentPage++;
          renderPage();
        };
        
        const characterImg = document.getElementById('characterImage');
        characterImg.onclick = () => {
          characterImg.style.animation = 'none';
          setTimeout(() => {
            characterImg.style.animation = 'bounce 0.5s ease-in-out 3';
          }, 10);
        };
      } else if (currentPage === 6) {
        app.innerHTML = `
          <div class="page-container w-full" style="background: linear-gradient(135deg, ${accentColor}60 0%, ${secondaryAccent}60 100%); font-family: '${baseFont}', serif; color: ${primaryText};">
            <div class="flex-1 flex items-center justify-center p-8 relative overflow-hidden">
              ${createSparkles()}
              <div class="text-center z-10 max-w-3xl">
                <div class="flex justify-center gap-4 mb-8 text-8xl">
                  <span style="animation: glow 2s ease-in-out infinite, wiggle 2s ease-in-out infinite;">üåü</span>
                  <span style="animation: glow 2s ease-in-out infinite, spin-slow 4s linear infinite; animation-delay: 0.3s;">‚ú®</span>
                  <span style="animation: glow 2s ease-in-out infinite, wiggle 2s ease-in-out infinite; animation-delay: 0.6s;">üåü</span>
                </div>
                <h2 class="font-bold mb-6" style="font-size: ${baseFontSize * 2.5}px; color: ${primaryText}; animation: fade-in 1s ease-out, pulse-scale 3s ease-in-out infinite;">
                  Let Your Light Shine!
                </h2>
                <p class="mb-8 leading-relaxed" style="font-size: ${baseFontSize * 1.375}px; color: ${primaryText}; animation: fade-in 1.2s ease-out;">
                  This little light of mine, I'm gonna let it shine! ‚ú®<br><br>
                  Like Papa, Momo, Jackson, Rylee, and Alice,<br>
                  you can spread joy and love everywhere you go!<br><br>
                  Jesus said, "You are the light of the world!"<br>
                  Let your light shine before others! üíñ
                </p>
                <div class="flex justify-center gap-3 mb-8 text-5xl">
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0s;">üïäÔ∏è</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.2s;">üíñ</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.4s;">üéµ</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.6s;">‚ú®</span>
                  <span style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.8s;">üïØÔ∏è</span>
                </div>
                <div class="flex justify-center gap-4 mb-8 flex-wrap">
                  ${characters.map((c, i) => `<img src="${c.image}" alt="${c.name}" style="width: 100px; height: 130px; border-radius: 15px; object-fit: cover; border: 4px solid ${accentColor}; box-shadow: 0 5px 15px rgba(0,0,0,0.2); animation: fade-in ${1.5 + i * 0.2}s ease-out, float 3s ease-in-out infinite, card-tilt 4s ease-in-out infinite; animation-delay: ${i * 0.1}s;" onerror="this.style.display='none';">`).join('')}
                </div>
                <button id="restartBtn" class="px-8 py-4 rounded-full font-bold transform transition hover:scale-110" style="background-color: ${cardBackground}; color: ${primaryText}; font-size: ${baseFontSize * 1.125}px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); animation: fade-in 2s ease-out, pulse-scale 2s ease-in-out infinite;">
                  Read Again üìñ
                </button>
              </div>
            </div>
          </div>
        `;
        
        document.getElementById('restartBtn').onclick = () => {
          currentPage = 0;
          renderPage();
        };
      }
    }

    // Initialize the storybook
    renderPage();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ae27872576c5e49',t:'MTc2NTc2NTMxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
